{"version":3,"file":"static/js/721.39a17c06.chunk.js","mappings":"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","sources":["components/Home/home.styled.js","webpack://goit-react-hw-05-movies/./src/components/Home/home.module.css?3638","components/Home/Home.jsx","components/Paginator/paginator.styled.js","components/Paginator/Paginator.jsx","shared/services/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const ListMovies = styled.ul`\n  list-style-type: none;\n  margin-bottom: 10px;\n  font-size: 20px;\n  justify-content: space-around;\n  display: flex;\n  flex-wrap: wrap;\n  /* gap: 15px; */\n  padding: 0;\n`;\n\nexport const MovieItem = styled.li`\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n`;","// extracted by mini-css-extract-plugin\nexport default {\"movieItem\":\"home_movieItem__MmdJy\",\"mainTitle\":\"home_mainTitle__V0pd9\",\"title\":\"home_title__wNn6R\",\"poster\":\"home_poster__G9a7q\",\"loading\":\"home_loading__ko1Ql\"};","import React, { useState, useEffect, useMemo } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { ListMovies, MovieItem } from './home.styled';\nimport { getTrendingMovies } from '../../shared/services/api';\nimport css from './home.module.css';\nimport Paginator from 'components/Paginator/Paginator';\nimport { MagnifyingGlass } from 'react-loader-spinner';\n\nconst imgPlaceholder = './src/img/no-poster-available.jpg';\n\nconst Home = () => {\n  const [loading, setLoading] = useState(true);\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams({ page: 1 });\n  const location = useLocation();\n\n  const params = useMemo(\n    () => Object.fromEntries([...searchParams]),\n    [searchParams]\n  );\n\n  const page = Number(params.page || 1);\n  const [totalPages, settotalPages] = useState(0);\n\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        setLoading(true);\n        const data = await getTrendingMovies(page);\n        setMovies(data.results);\n        settotalPages(data.total_pages);\n        setLoading(false);\n      } catch (error) {\n        alert(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    getData();\n  }, [page]);\n\n  return (\n    <>\n      <h2 className={css.mainTitle}>Trending movies:</h2>\n      <ListMovies>\n        {loading ? (\n          <div className={css.loading}>\n            <MagnifyingGlass\n              visible={true}\n              height=\"80\"\n              width=\"80\"\n              ariaLabel=\"MagnifyingGlass-loading\"\n              wrapperStyle={{ margin: '0 auto' }}\n              wrapperClass=\"MagnifyingGlass-wrapper\"\n              glassColor=\"#c0efff\"\n              color=\"#e15b64\"\n            />\n          </div>\n        ) : (\n          movies.map(({ title, id, poster_path }) => (\n            <MovieItem key={id} className={css.movieItem}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                <img\n                  className={css.poster}\n                  src={\n                    poster_path\n                      ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n                      : imgPlaceholder\n                  }\n                  alt={title}\n                />\n                <p className={css.title}>{title}</p>\n              </Link>\n            </MovieItem>\n          ))\n        )}\n      </ListMovies>\n\n      <Paginator\n        totalPages={totalPages}\n        setSearchParams={setSearchParams}\n        params={params}\n        currentPage={Number(params?.page - 1) || 0}\n      />\n    </>\n  );\n};\n\nexport default Home;","import styled from 'styled-components';\nimport ReactPaginate from 'react-paginate';\n\nexport const StyledPaginate = styled(ReactPaginate)`\n  display: flex;\n  justify-content: center;\n  gap: 15px;\n  margin: 10px 0;\n  font-size: 18px;\n  .selected {\n    color: white;\n    background-color: orange;\n    &:hover {\n      background-color: orangered;\n    }\n  }\n\n  a {\n    display: block;\n    padding: 5px 10px;\n    cursor: pointer;\n  }\n\n  li {\n    list-style-type: none;\n    border: 1px solid orange;\n    border-radius: 7px;\n    &:hover {\n      background-color: orange;\n      color: #000;\n    }\n  }\n`;","import { StyledPaginate } from './paginator.styled';\nimport PropTypes from 'prop-types';\nimport { IoIosArrowBack, IoIosArrowForward } from 'react-icons/io';\n\nfunction Paginator({ totalPages, setSearchParams, params, currentPage }) {\n  const handlePageClick = event => {\n    // устанавливаю page= номеру страницы в URL\n    // передаем другие параметры из строки в url\n    setSearchParams({ ...params, page: event.selected + 1 });\n  };\n\n  return (\n    <>\n      <StyledPaginate\n        breakLabel=\"...\"\n        previousLabel={<IoIosArrowBack />}\n        nextLabel={<IoIosArrowForward />}\n        onPageChange={handlePageClick}\n        pageRangeDisplayed={4}\n        marginPagesDisplayed={2}\n        pageCount={totalPages}\n        renderOnZeroPageCount={null}\n        forcePage={currentPage}\n      />\n    </>\n  );\n}\n\nPaginator.propTypes = {\n  totalPages: PropTypes.number.isRequired,\n  setSearchParams: PropTypes.func.isRequired,\n  params: PropTypes.object.isRequired,\n  currentPage: PropTypes.number.isRequired,\n};\n\nexport default Paginator;","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '13e949714959e6b204127682b184b526',\n    language: 'en-US',\n  },\n});\n\nexport async function getTrendingMovies(page) {\n  const query = `/trending/movie/week`;\n  try {\n    const { data } = await instance.get(query, {\n      params: {\n        page,\n      },\n    });\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getMovieDetails(id) {\n  const query = `/movie/${id}`;\n  try {\n    const { data } = await instance.get(query);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getMovieCast(id) {\n  const query = `/movie/${id}/credits`;\n  try {\n    const { data } = await instance.get(query);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getMovieReviews(id) {\n  const query = `/movie/${id}/reviews`;\n  try {\n    const { data } = await instance.get(query);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function searchMovie(queryString, page) {\n  const query = `/search/movie?query=${queryString}`;\n  try {\n    const data = await instance.get(query, {\n      params: {\n        page,\n      },\n    });\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n"],"names":["ListMovies","styled","_templateObject","_taggedTemplateLiteral","MovieItem","_templateObject2","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","movies","setMovies","_useSearchParams","useSearchParams","page","_useSearchParams2","searchParams","setSearchParams","location","useLocation","params","useMemo","Object","fromEntries","_toConsumableArray","Number","_useState5","_useState6","totalPages","settotalPages","useEffect","getData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","getTrendingMovies","sent","results","total_pages","t0","alert","message","finish","stop","apply","arguments","_jsxs","_Fragment","children","_jsx","className","css","MagnifyingGlass","visible","height","width","ariaLabel","wrapperStyle","margin","wrapperClass","glassColor","color","map","_ref2","title","id","poster_path","Link","to","concat","state","from","src","alt","Paginator","currentPage","StyledPaginate","ReactPaginate","breakLabel","previousLabel","IoIosArrowBack","nextLabel","IoIosArrowForward","onPageChange","event","_objectSpread","selected","pageRangeDisplayed","marginPagesDisplayed","pageCount","renderOnZeroPageCount","forcePage","instance","axios","baseURL","api_key","language","_x","_getTrendingMovies","_yield$instance$get","get","abrupt","getMovieDetails","_x2","_getMovieDetails","_callee2","query","_yield$instance$get2","_context2","getMovieCast","_x3","_getMovieCast","_callee3","_yield$instance$get3","_context3","getMovieReviews","_x4","_getMovieReviews","_callee4","_yield$instance$get4","_context4","searchMovie","_x5","_x6","_searchMovie","_callee5","queryString","_context5"],"sourceRoot":""}